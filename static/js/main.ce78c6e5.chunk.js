(window.webpackJsonpflickk=window.webpackJsonpflickk||[]).push([[0],{19:function(e,t,n){e.exports=n.p+"static/media/404.c35f1447.jpg"},22:function(e,t,n){e.exports=n.p+"static/media/tmdb.02a9430b.svg"},27:function(e,t,n){e.exports=n(39)},32:function(e,t,n){},33:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(17),c=n.n(o),s=(n(32),n(6)),i=n(7),l=n(9),u=n(8),m=n(10),p=(n(33),n(11)),g=n(18),h=n(42),d=n(45),f=n(43),b=n(44),v=n(47),y=n(19),O=n.n(y),j=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.onChange;return r.a.createElement("div",null,r.a.createElement("input",{style:{padding:"0.5rem 1rem",display:"block",width:"100%",background:"rgba(0, 0, 0, 0.9)",outline:"none",border:"2px solid black",color:"#bbbbbb"},onChange:e,type:"text",placeholder:"Search..."}))}}]),t}(a.Component),E="https://api.themoviedb.org/3/movie/popular?api_key=",k="https://api.themoviedb.org/3/search/movie?api_key=",S="&query=",w="df6f6314c5440cba12e1c99403e78dc3",I="&page=";function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var N=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={movies:[],isLoading:!0,searchQuery:"",pageNum:1},n.searchMovies=function(e){var t=e.target.value.trim();if(""===t)if(document.getElementById("popular-or-results").innerText="Popular Movies",document.getElementById("load-more").style.display="block",sessionStorage.getItem("BaseState")){var a=JSON.parse(sessionStorage.getItem("BaseState"));n.setState(B({},a)),console.log("from session storage")}else fetch("".concat(E).concat(w)).then(function(e){return e.json()}).then(function(e){n.setState({movies:e.results},function(){""===t&&(sessionStorage.setItem("BaseState",JSON.stringify(n.state)),console.log("saved data to session storage"))})}).catch(function(e){return console.error(e)});else fetch("".concat(k).concat(w).concat(S).concat(t)).then(function(e){return e.json()}).then(function(e){n.setState({movies:e.results,pageNum:1})}).catch(function(e){return console.error(e)}),document.getElementById("popular-or-results").innerText="Results",document.getElementById("load-more").style.display="none"},n.fetchMoreMovies=function(){var e=n.state,t=e.movies,a=e.pageNum;fetch("".concat(E).concat(w).concat(I).concat(a+1)).then(function(e){return e.json()}).then(function(e){n.setState({movies:[].concat(Object(p.a)(t),Object(p.a)(e.results)),pageNum:e.page})}).catch(function(e){return console.error(e)})},n.addDefaultSrcToImg=function(e){e.target.src=O.a},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.movies;if(sessionStorage.getItem("BaseState")){var n=JSON.parse(sessionStorage.getItem("BaseState"));this.setState(B({},n)),console.log("from session storage")}else fetch("".concat(E).concat(w).concat(I).concat(this.state.pageNum)).then(function(e){return e.json()}).then(function(n){e.setState({isLoading:!1,movies:[].concat(Object(p.a)(t),Object(p.a)(n.results))},function(){sessionStorage.setItem("BaseState",JSON.stringify(e.state)),console.log("saved data to session storage")})}).catch(function(e){return console.error(e)})}},{key:"render",value:function(){var e=this,t=this.state.movies.map(function(t){return r.a.createElement(h.a,{key:t.id,xs:12,sm:6,md:4,lg:3},r.a.createElement(d.a,{bg:"dark",text:"white",className:"mb-3"},r.a.createElement(d.a.Img,{variant:"top",alt:t.title,src:"".concat("https://image.tmdb.org/t/p/").concat("w342").concat(t.poster_path),onError:e.addDefaultSrcToImg}),r.a.createElement(d.a.Body,null,r.a.createElement(d.a.Title,{style:{fontSize:"1rem"}},t.title),r.a.createElement(d.a.Text,null,"Ratings: ",t.vote_average,"/10"))))});return r.a.createElement(f.a,null,r.a.createElement("h2",{style:{margin:"1rem"}},"Search"),r.a.createElement(j,{onChange:this.searchMovies}),r.a.createElement("h2",{id:"popular-or-results",style:{margin:"1rem"}},"Popular Movies"),r.a.createElement(b.a,null,t),r.a.createElement(v.a,{id:"load-more",onClick:this.fetchMoreMovies,variant:"success",size:"lg",block:!0},"Load More..."))}}]),t}(a.Component),C=n(22),M=n.n(C),P=n(46),A=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"",style:{background:"rgba(0, 0, 0, 0.9)",color:"#eeeeee"}},r.a.createElement("header",{className:"App-header",style:{display:"grid",gridTemplateColumns:"auto auto"}},r.a.createElement("h1",{style:{fontSize:"1.75rem",textAlign:"left",display:"inline-block",margin:"0.5rem 1rem",userSelect:"none"},id:"title"},r.a.createElement("span",null,r.a.createElement(P.a,{id:"flickk-icon",style:{height:"2rem",verticalAlign:"bottom"}})),"Flickk"),r.a.createElement("span",{style:{textAlign:"right",verticalAlign:"super",margin:"0.5rem 1rem",fontWeight:"bold"},id:"tmdb-logo"},r.a.createElement("a",{style:{textDecoration:"none",color:"#eeeeee",userSelect:"none"},href:"http://www.themoviedb.org",target:"_blank",rel:"noopener noreferrer"},"Powered by"," ",r.a.createElement("img",{src:M.a,alt:"www.themoviedb.org",style:{height:"2.5rem",verticalAlign:"middle"}})))))}}]),t}(a.Component),D=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Movie Card"))}}]),t}(a.Component),T=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(A,null),r.a.createElement(N,null),r.a.createElement(D,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,1,2]]]);
//# sourceMappingURL=main.ce78c6e5.chunk.js.map